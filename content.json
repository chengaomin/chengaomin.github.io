{"meta":{"title":"Chengaomin Blog","subtitle":null,"description":null,"author":"chengaomin","url":"https://chengaomin.github.io"},"pages":[{"title":"关于作者","date":"2012-10-08T12:29:16.000Z","updated":"2017-01-11T07:42:49.385Z","comments":true,"path":"about-me/index.html","permalink":"https://chengaomin.github.io/about-me/index.html","excerpt":"","text":"博主姓名：葡萄 性别：男 出生日期：1989.12.24 QQ：445462004 E-mail：445462004@qq.com RF社区：http://www.robotframework.net/"},{"title":"categories","date":"2017-01-11T07:09:18.000Z","updated":"2017-01-11T07:09:30.000Z","comments":false,"path":"categories/index.html","permalink":"https://chengaomin.github.io/categories/index.html","excerpt":"","text":""},{"title":"留言板","date":"2012-10-08T12:53:35.000Z","updated":"2017-01-11T07:42:49.385Z","comments":true,"path":"message/index.html","permalink":"https://chengaomin.github.io/message/index.html","excerpt":"","text":""},{"title":"实例演示","date":"2012-10-04T00:52:14.000Z","updated":"2017-01-11T07:42:49.381Z","comments":true,"path":"example/index.html","permalink":"https://chengaomin.github.io/example/index.html","excerpt":"","text":""},{"title":"tags","date":"2017-01-11T07:07:59.000Z","updated":"2017-01-11T07:08:28.000Z","comments":false,"path":"tags/index.html","permalink":"https://chengaomin.github.io/tags/index.html","excerpt":"","text":""},{"title":"区域限制","date":"2012-10-03T12:07:34.000Z","updated":"2017-01-11T07:42:49.382Z","comments":true,"path":"zone-limit/index.html","permalink":"https://chengaomin.github.io/zone-limit/index.html","excerpt":"","text":""},{"title":"发送飞信","date":"2012-10-03T08:50:46.000Z","updated":"2017-01-11T07:42:49.379Z","comments":true,"path":"sendfetion/index.html","permalink":"https://chengaomin.github.io/sendfetion/index.html","excerpt":"","text":""}],"posts":[{"title":"使用goagent代理使pip安装库飞一般的感觉","slug":"e4-bd-bf-e7-94-a8goagent-e4-bb-a3-e7-90-86-e4-bd-bfpip-e5-ae-89-e8-a3-85-e5-ba-93-e9-a3-9e-e4-b8-80-e8-88-ac-e7-9a-84-e6-84-9f-e8-a7-89","date":"2014-02-27T05:30:39.000Z","updated":"2017-01-11T07:42:49.383Z","comments":true,"path":"2014/02/27/e4-bd-bf-e7-94-a8goagent-e4-bb-a3-e7-90-86-e4-bd-bfpip-e5-ae-89-e8-a3-85-e5-ba-93-e9-a3-9e-e4-b8-80-e8-88-ac-e7-9a-84-e6-84-9f-e8-a7-89/","link":"","permalink":"https://chengaomin.github.io/2014/02/27/e4-bd-bf-e7-94-a8goagent-e4-bb-a3-e7-90-86-e4-bd-bfpip-e5-ae-89-e8-a3-85-e5-ba-93-e9-a3-9e-e4-b8-80-e8-88-ac-e7-9a-84-e6-84-9f-e8-a7-89/","excerpt":"","text":"Python安装包我喜欢pip，方便，而且会自动安装好依赖 但是出于国内的网络，哎，大家都懂的，会时不时的连接不上。 无奈，只能“翻墙”出去咯，pip提供了代理的功能，于是也就方便了许多 我这里使用goagent，如果你没有配置过goagent，那么请自己google搞一下 我现在假设你已经安装好了，并且启动代理，端口在8087 那就直接pip install -U 你要安装的模块名 –proxy 127.0.0.1:8087 –cert goagent目录中的CA.crt 如下图 [ pip](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2014/02/pip.png) OK，就是这样。 补充： 最近还知道了另外一个方法，如果你没有goagent，那么你也可以换源，如： pip install -U selenium -i http://pypi.v2ex.com/simple &nbsp; http://blog.csdn.net/orangleliu/article/details/21155763 http://www.pypi-mirrors.org/","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"},{"name":"技术探讨","slug":"Robot-Framework/技术探讨","permalink":"https://chengaomin.github.io/categories/Robot-Framework/技术探讨/"}],"tags":[]},{"title":"Tesseract-OCR的安装使用训练[1]","slug":"tesseract-ocr-e7-9a-84-e5-ae-89-e8-a3-85-e4-bd-bf-e7-94-a8-e8-ae-ad-e7-bb-831","date":"2013-08-05T12:55:40.000Z","updated":"2017-01-11T07:42:49.383Z","comments":true,"path":"2013/08/05/tesseract-ocr-e7-9a-84-e5-ae-89-e8-a3-85-e4-bd-bf-e7-94-a8-e8-ae-ad-e7-bb-831/","link":"","permalink":"https://chengaomin.github.io/2013/08/05/tesseract-ocr-e7-9a-84-e5-ae-89-e8-a3-85-e4-bd-bf-e7-94-a8-e8-ae-ad-e7-bb-831/","excerpt":"","text":"什么是OCROCR（Optical Character Recognition，光学字符识别）是指电子设备（例如扫描仪或数码相机）检查纸上打印的字符，通过检测暗、亮的模式确定其形状，然后用字符识别方法将形状翻译成计算机文字的过程；即，对文本资料进行扫描，然后对图像文件进行分析处理，获取文字及版面信息的过程。OCR技术非常专业，一般多是印刷、打印行业的从业人员使用，可以快速的将纸质资料转换为电子资料。关于中文OCR，目前国内水平较高的有清华文通、汉王、尚书，其产品各有千秋，价格不菲。国外OCR发展较早，像一些大公司，如IBM、微软、HP等，即使没有推出单独的OCR产品，但是他们的研发团队早已掌握核心技术，将OCR功能植入了自身的软件系统。 Tesseract-OCRTesseract的OCR引擎最先由HP实验室于1985年开始研发，至1995年时已经成为OCR业内最准确的三款识别引擎之一。然而，HP不久便决定放弃OCR业务，Tesseract也从此尘封。 数年以后，HP意识到，与其将Tesseract束之高阁，不如贡献给开源软件业，让其重焕新生－－2005年，Tesseract由美国内华达州信息技术研究所获得，并求诸于Google对Tesseract进行改进、消除Bug、优化工作。 其官网上也有明显的标识 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/Tesseract-ocr-logo.png Tesseract目前已作为开源项目发布在Google Code，其项目主页在这里：https://code.google.com/p/tesseract-ocr/，其最新版本3.02。 安装Tesseract-OCR打开其下载页 https://code.google.com/p/tesseract-ocr/downloads/list [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/Tesseract-ocr-download.png 我是window7，于是就直接下载tesseract-ocr-setup-3.02.02.exe，直接安装即可了。 下面有众多的语言包，eng（英文），chi_sim（简体中文），等等，如果你需要，就自己下载 安装过程就忽略了，反正就是指定下安装路径什么的，一直下一步 安装完毕之后，应该差不多这样子 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/Tesseract-ocr-dir.png Tessdata里放着语言库数据（之后我们训练后的文件，也放这里），还有就是tesseract.exe就是一个命令行工具了。 使用Tesseract-OCR命令行工具我们找一张要识别的图片，就拿他的吧，在安装目录下的doc文件夹里，有一张叫phototest.tif的文件，打开来看一下 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/phototest.png 好的，我们现在就来识别他 打开命令行，进入到这个目录 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/cmd1.png 然后输入tesseract phototest.tif out [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/cmd2.png 看到doc目录下，出现了一个out.txt的文件，就是识别结果了，打开看 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/dir.png [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/out.png 嗯，识别的不错！（由于这个图片是他官方提供的，而且字体很规整，所以识别的也很好，在实际使用中，其实没有这么容易啦） Tesseract的一般使用格式： Tesseract 要识别的图像位置 输出文件的位置 [-l 语言库] [-psm 0-10] [配置文件] 命令行工具还有一些其他的参数可以使用， -l ：用来指定语言 例如：tesseract phototest.tif out -l eng -psm：用来指定页面段落模式 他一共有11个参数可以使用 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/psm.png 如果出现EMPTY PAGE！！！的时候，可以加下-psm试试哦 例如 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/08/cmd3.png","categories":[{"name":"技术探讨","slug":"技术探讨","permalink":"https://chengaomin.github.io/categories/技术探讨/"}],"tags":[{"name":"OCR","slug":"OCR","permalink":"https://chengaomin.github.io/tags/OCR/"},{"name":"Tesseract-OCR","slug":"Tesseract-OCR","permalink":"https://chengaomin.github.io/tags/Tesseract-OCR/"},{"name":"图像识别","slug":"图像识别","permalink":"https://chengaomin.github.io/tags/图像识别/"}]},{"title":"简单验证码识别思路与实现[第四步:匹配识别]","slug":"e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e5-9b-9b-e6-ad-a5-e5-8c-b9-e9-85-8d-e8-af-86-e5-88-ab","date":"2013-07-29T13:45:38.000Z","updated":"2017-01-11T07:42:49.378Z","comments":true,"path":"2013/07/29/e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e5-9b-9b-e6-ad-a5-e5-8c-b9-e9-85-8d-e8-af-86-e5-88-ab/","link":"","permalink":"https://chengaomin.github.io/2013/07/29/e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e5-9b-9b-e6-ad-a5-e5-8c-b9-e9-85-8d-e8-af-86-e5-88-ab/","excerpt":"","text":"终于到了最后识别了，希望就在眼前了！！！ 识别的话，过程大概就是：拿到验证码→去噪→分割（放大）→转成01序列→与字库匹配→得到识别结果。 说白了，就是重复下前面的工作，然后加一个与字符匹配的算法咯 我这里的匹配算法也写的很简单，因为这个验证码的字符分割下来，形态是一定。 算法： 将2个list，比如a=[0,0,0,1,1,1,0]和n[0]=[0,1,0,1,1,0,0] ，对应位置进行异或运算（相同得0，不同得1），我们把相同的总数累加起来，得到一个匹配指数，如上面这2个list，匹配指数就是5，然后继续拿a去和剩下的所有字库比较，得到所有的匹配指数，取最大的匹配指数，我们就认为他就是我们要的字符，输出即可 核心代码： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/匹配code.png 好了，有了这所有的算法，我们就只要把这些步骤全部拼起来就好了！！ 最后我们看看这个简单的验证码的识别效果吧！ [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/result.png 怎么样，不敢说是100%的识别率吧，那也有99%的识别率吧！！ 当然咯，大家也不能骄傲自满，毕竟这个是很简单的验证码，稍微加点难度，可能就没这么容易了。 [这不是结束，这只是个开始！ 什么造字库，什么匹配，都太麻烦了，去噪之后直接使用 Tesseract-ocr识别！ （这样的简单验证码训练一下，也可100%识别哦！） 累赘了关于验证码识别的4篇博文，只是想说清楚识别简单验证码的思路 留给自己，也分享给大家 ]","categories":[{"name":"技术探讨","slug":"技术探讨","permalink":"https://chengaomin.github.io/categories/技术探讨/"}],"tags":[{"name":"验证码 验证码识别 验证码去噪 验证码分割 验证码算法","slug":"验证码-验证码识别-验证码去噪-验证码分割-验证码算法","permalink":"https://chengaomin.github.io/tags/验证码-验证码识别-验证码去噪-验证码分割-验证码算法/"}]},{"title":"简单验证码识别思路与实现[第三步:制作字库]","slug":"e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e4-b8-89-e6-ad-a5-e5-88-b6-e4-bd-9c-e5-ad-97-e5-ba-93","date":"2013-07-27T05:43:20.000Z","updated":"2017-01-11T07:42:49.379Z","comments":true,"path":"2013/07/27/e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e4-b8-89-e6-ad-a5-e5-88-b6-e4-bd-9c-e5-ad-97-e5-ba-93/","link":"","permalink":"https://chengaomin.github.io/2013/07/27/e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e4-b8-89-e6-ad-a5-e5-88-b6-e4-bd-9c-e5-ad-97-e5-ba-93/","excerpt":"","text":"如果你已经完成了上面的2部，基本上，你离识别出验证码不远了。下面我们开始制作字库，或者说特征库。 当你分割完字符之后，大概会得到这样一批分割的字符，如图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/311.png &nbsp; 很好，从中找出0-9和a-z的36个字符（我这个验证码只有小写字母，如果你有大写字母，也请一起找出来），放到一个目录下备用，并最好重命名成相应的字符，如图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/32.png &nbsp; 好了，准备工作都OK了，下面说说怎么造字库吧，方法很多，我们就简单一点 我们现在分割出来的字符，是20*20的图像，我们把黑色的像素点记为1，白色的记为0，然后将其存放入一个list中，即可。顺便做一下换行，让其更直观一些 核心代码： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/33.png &nbsp; 运行结果： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/34.png &nbsp; 以上就是一个2的运行结果，用肉眼就可以很直观的看出是个数字[2]的样子 最后，我们就得到了一个叫做Data.py的文件，里面放着所有字符的序列。 在最上面加上一段 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/35.png &nbsp; OK，编译一下这个Data.py文件，通过。这样字库就完成了 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/36.png &nbsp; 其实字库怎么造，都随你，你也可以做加密等等，让人家看不懂你的字库。只要后面识别的时候的算法和造字库的算法一致，就可以了","categories":[{"name":"技术探讨","slug":"技术探讨","permalink":"https://chengaomin.github.io/categories/技术探讨/"}],"tags":[{"name":"验证码 验证码识别 验证码去噪 验证码分割 验证码算法","slug":"验证码-验证码识别-验证码去噪-验证码分割-验证码算法","permalink":"https://chengaomin.github.io/tags/验证码-验证码识别-验证码去噪-验证码分割-验证码算法/"}]},{"title":"简单验证码识别思路与实现[第二步:分割字符]","slug":"e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e4-ba-8c-e6-ad-a5-e5-88-86-e5-89-b2-e5-ad-97-e7-ac-a6","date":"2013-07-23T06:03:46.000Z","updated":"2017-01-11T07:42:49.369Z","comments":true,"path":"2013/07/23/e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e4-ba-8c-e6-ad-a5-e5-88-86-e5-89-b2-e5-ad-97-e7-ac-a6/","link":"","permalink":"https://chengaomin.github.io/2013/07/23/e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e4-ba-8c-e6-ad-a5-e5-88-86-e5-89-b2-e5-ad-97-e7-ac-a6/","excerpt":"","text":"分割字符 这块也是验证码识别的难点，我这里还是介绍2种最简单的分割算法（1.固定分割/平均分割 2.扫描线分割法） 当然咯，只适用于简单的，验证码字符没有粘连的情况咯 1.固定分割/平均分割原理很简单，以上次的这个验证码为例 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/7.png 观察发现每个验证码的字符的横坐标位置是不变的，每次都是[15,45,75,105]开始的，而纵坐标是会随便变动的，会上下跳动，我们不管他，直接用横坐标来平均分割一下。再去观察一下每个字符的宽度，发现最大10个像素。 代码： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/11.png 处理后的结果： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/21.png 这样切割，字符是出来了，但是字符在这个小空间内的上下位置，是不定的，这对于我们后面匹配时，就会带来一点点麻烦。比较的时候，要纵向全部去匹配一遍。于是我们引入扫描线分割法 2.扫描线分割法我们的目的是完美的切割出每一个字符，效果最好如下图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/31.png 算法描述： 首先是对X方向上的所有列进行扫描，只要纵向上有黑色的点，就累计记录下。大概如下图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/41.png 我们得到这个验证码图像长度相同的一个list，[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 6, 4, 4, 4, 4, 6, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 9, 4, 4, 4, 7, 6, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 2, 2, 2, 4, 5, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 7, 3, 2, 2, 2, 9, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] 我们很容易的知道，连续的0，说明是空白，连续的数字出现，就是字符的左右边界。于是我们得到了4个字符的左右边界，分别是 [15, 23], [45, 53], [75, 83], [105, 113] 大概这时候就是下图这样了 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/51.png 然后我们开始在y方向上进行扫描，确定出每个字母的上下边界，方法类似，不过这次不是整个图像的扫描，而是从刚刚扫描出的4个空间里扫描，先扫描第一个字符，如下图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/61.png 我们得到这个验证码图像高度相同的一个list，[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 4, 4, 4, 4, 4, 4, 4, 4, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] 很容易的就找出了连续数字开始和结束的地方就是这个字符的边界了， 此时，我们就知道了这个字符的4个边界了 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/71.png 至此，这个字符就已经被完美的“分割”出来了，其他的3个字符也能这样分割出来 最后得到了4个字符的边界存入list [[15, 23, 17, 27], [45, 53, 15, 24], [75, 83, 26, 35], [105, 113, 20, 29]] 下面我们就能容易的分割出来了，crop即可。 核心代码： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/8.png 处理结果： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/9.png 完美了？！ 其实这样还是不够完美，为什么？？ 因为这样分割出来的字符，他们的宽度和高度不一样，有的78，有的810，有的109，这将给我们后面最匹配带来障碍，于是我又对他们做了放大缩小处理，让他们都变成2020的大小，虽然大小变了，但是他们的特征是没有改变的。 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/10.png Okay！这次的分割字符就这样了。 下次可能是介绍如何自己制作字库！敬请期待！ （有机会会介绍python的ocr来识别，以及如何训练ocr） 支持就转发或关注我一下呗&nbsp; （登录后可转发）","categories":[{"name":"技术探讨","slug":"技术探讨","permalink":"https://chengaomin.github.io/categories/技术探讨/"}],"tags":[{"name":"验证码 验证码识别 验证码去噪 验证码分割 验证码算法","slug":"验证码-验证码识别-验证码去噪-验证码分割-验证码算法","permalink":"https://chengaomin.github.io/tags/验证码-验证码识别-验证码去噪-验证码分割-验证码算法/"}]},{"title":"简单验证码识别思路与实现[第一步:去噪]","slug":"e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e4-b8-80-e6-ad-a5-e5-8e-bb-e5-99-aa","date":"2013-07-18T12:33:20.000Z","updated":"2017-01-11T07:42:49.374Z","comments":true,"path":"2013/07/18/e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e4-b8-80-e6-ad-a5-e5-8e-bb-e5-99-aa/","link":"","permalink":"https://chengaomin.github.io/2013/07/18/e7-ae-80-e5-8d-95-e9-aa-8c-e8-af-81-e7-a0-81-e8-af-86-e5-88-ab-e6-80-9d-e8-b7-af-e4-b8-8e-e5-ae-9e-e7-8e-b0-e7-ac-ac-e4-b8-80-e6-ad-a5-e5-8e-bb-e5-99-aa/","excerpt":"","text":"准备工作首先去下载多一些验证码，查看其特征 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/1.png 我这里只是简单介绍比较简单的验证码识别思路，所以选取的是一些比较简单的验证码（无强力的干扰，字符无粘连，字符没有扭曲，字符没有旋转） 我们放大一个验证码来看其特征 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/2.png 1很明显，虽然背景有很多噪点，但是颜色比字符浅了很多，很容易使用颜色阀值的方法来去除 2字符没有粘连，这样的话，比较容易区分每个字符的边界，容易分割 3字符规整，没有扭曲，没有旋转，而且观察这些验证码，一样的字符，只是颜色会不一样，形态一模一样，这又方便了我们做字幕，每个字符做一个即可 下面开始进入正题，去噪！这里介绍2个最常用的去噪方法（1颜色阀值法，2八区域法） 1.颜色阀值法我们上面这个验证码，采用这个方法就可以了，效果很好 拿ps打开这个图像，看一下字符的像素点的RGB情况，和背景噪点的RGB情况，就很容易的发现，背景的RBG大，都在100以上，而字符的比较小，都在100一下，那么很容易取得100为阀值了 代码： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/3.png 处理之后的结果 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/4.png 效果很不错，已经把几乎所有的背景噪点去除了，但是唯独留下了2个点，为什么没有去掉呢？？很明显，这2个点的RGB和字符接近，所以没有去掉，接下来，就是要把这2个点去掉 2.八区域去噪法我们取验证码上任意黑色的一点，来进行对其周围8个区域分析 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/5.png 如果他周围8个点，都是白色，说明他一定是一个噪点！ 当然，这个你可以写成可配置的，比如，他周围要是有一个黑点，也可以判定其是噪点 根据我这个验证码的特征，我可以配置成，周围都是白色，记为噪点，去除 代码： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/6.png 处理后的效果： [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/7.png 好了，今天就说到这里，去噪还有很多方案，算法，我只是现学现卖的介绍2种比较简单和通用的方法而已 今天群里那个同学的验证码，也可以通过上面的方法去噪哦 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/07/VerifyCode.png 下一篇将介绍字符分割算法，敬请期待！ 最后再推广下RF的群：247870083，欢迎加入。（恒总，给点推广费不） 支持就转发或关注我一下呗","categories":[{"name":"技术探讨","slug":"技术探讨","permalink":"https://chengaomin.github.io/categories/技术探讨/"}],"tags":[{"name":"验证码 验证码识别 验证码去噪 验证码分割 验证码算法","slug":"验证码-验证码识别-验证码去噪-验证码分割-验证码算法","permalink":"https://chengaomin.github.io/tags/验证码-验证码识别-验证码去噪-验证码分割-验证码算法/"}]},{"title":"自己写简单的RobotFramework的Library","slug":"e8-87-aa-e5-b7-b1-e5-86-99-e7-ae-80-e5-8d-95-e7-9a-84robotframework-e7-9a-84library","date":"2013-06-24T06:29:48.000Z","updated":"2017-01-11T07:42:49.374Z","comments":true,"path":"2013/06/24/e8-87-aa-e5-b7-b1-e5-86-99-e7-ae-80-e5-8d-95-e7-9a-84robotframework-e7-9a-84library/","link":"","permalink":"https://chengaomin.github.io/2013/06/24/e8-87-aa-e5-b7-b1-e5-86-99-e7-ae-80-e5-8d-95-e7-9a-84robotframework-e7-9a-84library/","excerpt":"在实际的工作中，肯定会发现有些功能RF自身的Library，或者第三方的Library都无法实现，这个时候我们就得自己写library来实现它了。 不要想的太复杂，太难，其实很简单。 下面我们举例子来演示吧 一.编写Library你有3个方法，要自己写library 1：公式：(a+b)的a次方，a，b是正整数 2：有一网址（字符串），http://www.example.com?ip=192.187.111.198&amp;code=12345&amp;name=cat，想得到ip内容，即192.187.111.198 3：（用户名+10位随机数+一个key）进行md5加密 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/06/mylibrary01.png 比如我这样子已经写好了，编译调试一下，确保自己没有错误哦。若是有错误，导入RF会失败哦。 然后，将这个文件保存的文件名要和这个class的类名一样，所以我把他保存成MyLibrary.py","text":"在实际的工作中，肯定会发现有些功能RF自身的Library，或者第三方的Library都无法实现，这个时候我们就得自己写library来实现它了。 不要想的太复杂，太难，其实很简单。 下面我们举例子来演示吧 一.编写Library你有3个方法，要自己写library 1：公式：(a+b)的a次方，a，b是正整数 2：有一网址（字符串），http://www.example.com?ip=192.187.111.198&amp;code=12345&amp;name=cat，想得到ip内容，即192.187.111.198 3：（用户名+10位随机数+一个key）进行md5加密 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/06/mylibrary01.png 比如我这样子已经写好了，编译调试一下，确保自己没有错误哦。若是有错误，导入RF会失败哦。 然后，将这个文件保存的文件名要和这个class的类名一样，所以我把他保存成MyLibrary.py 二.放置位置及导入最后，我们把这个文件放在了RF项目的同一目录下，即可 如果你放在其他地方，也是可以的，但是导入的时候，地址要写对哦 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/06/mylibrary02.png 来到RF中，我们导入它（记得写.py哦） [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/06/mylibrary03.png 三.确认导入成功按F5，是不是看到自己写的那些关键字了？而且还有自己的中文注解哦 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/06/mylibrary04.png 四，使用library使用这3个关键字，我们跑一下 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/06/mylibrary05.png 五.查看结果运行结果 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/06/mylibrary06.png 想了解更多关于自己写library内容，可以查看官方文档http://robotframework.googlecode.com/hg/doc/userguide/RobotFrameworkUserGuide.html?r=2.8.1#creating-test-libraries","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"Library","slug":"Library","permalink":"https://chengaomin.github.io/tags/Library/"},{"name":"RF","slug":"RF","permalink":"https://chengaomin.github.io/tags/RF/"}]},{"title":"Mantis的附件图片实现预览/弹出层动画效果预览图片(LightBox2)的完美解决方案","slug":"mantis-e7-9a-84-e9-99-84-e4-bb-b6-e5-9b-be-e7-89-87-e5-ae-9e-e7-8e-b0-e9-a2-84-e8-a7-88-e5-bc-b9-e5-87-ba-e5-b1-82-e5-8a-a8-e7-94-bb-e6-95-88-e6-9e-9c-e9-a2-84-e8-a7-88-e5-9b-be-e7-89-87lightbox2","date":"2013-05-14T13:02:26.000Z","updated":"2017-01-11T07:42:49.369Z","comments":true,"path":"2013/05/14/mantis-e7-9a-84-e9-99-84-e4-bb-b6-e5-9b-be-e7-89-87-e5-ae-9e-e7-8e-b0-e9-a2-84-e8-a7-88-e5-bc-b9-e5-87-ba-e5-b1-82-e5-8a-a8-e7-94-bb-e6-95-88-e6-9e-9c-e9-a2-84-e8-a7-88-e5-9b-be-e7-89-87lightbox2/","link":"","permalink":"https://chengaomin.github.io/2013/05/14/mantis-e7-9a-84-e9-99-84-e4-bb-b6-e5-9b-be-e7-89-87-e5-ae-9e-e7-8e-b0-e9-a2-84-e8-a7-88-e5-bc-b9-e5-87-ba-e5-b1-82-e5-8a-a8-e7-94-bb-e6-95-88-e6-9e-9c-e9-a2-84-e8-a7-88-e5-9b-be-e7-89-87lightbox2/","excerpt":"前些日子，公司使用的Mantis上，查看图片附件总是觉得很麻烦 因为Mantis默认点击图片，是下载图片，下载之后再打开查看，实在麻烦 今天也看到Mantis的群中，有朋友遇到一样的困扰，于是与大家分享一个我的方法 方法1：在Mantis的配置文件中，加入此句，将这个值设的很大，就可以直接看到图片 [php] $g_preview_attachments_inline_max_size=1000000; [/php] 效果如图","text":"前些日子，公司使用的Mantis上，查看图片附件总是觉得很麻烦 因为Mantis默认点击图片，是下载图片，下载之后再打开查看，实在麻烦 今天也看到Mantis的群中，有朋友遇到一样的困扰，于是与大家分享一个我的方法 方法1：在Mantis的配置文件中，加入此句，将这个值设的很大，就可以直接看到图片 [php] $g_preview_attachments_inline_max_size=1000000; [/php] 效果如图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/f1.png 这个方法其实不错，但是有个弊端，小尺寸的图片效果不错，但是大尺寸的图片，可能就还是看不起，还是得下载下来看， 如上图的第三张图片 于是继续探究 方法2：在Mantis的配置文件config_inc.php加 [php] $g_form_security_validation = OFF; [/php] 然后在core\\file_api.php文件中，修改一段内容 [php] $t_attachment[‘download_url’] = &quot;file_download.php?file_id=$t_id&amp;type=bug&amp;show_inline=1&quot;; [/php] 此方法实现的效果就是，点击图片附件，将不会下载，而是直接在本页面预览大图片，基本已经很方便实用了 方法3：这个方法我们引入第三方控件，实现更佳酷炫的图片预览效果 1.下载lightbox2 ，地址http://lokeshdhakar.com/projects/lightbox2/ 解压js和css两文件夹（其他不用）到mantis根目录下 2.到core\\print_api.php下,找到print_bug_attachments_list 方法，在其内部加上 [php] echo &quot;&lt;script src=\\&quot;js/jquery-1.7.2.min.js\\&quot;&gt;&lt;/script&gt;&quot;; echo &quot;&lt;script src=\\&quot;js/jquery-ui-1.8.18.custom.min.js\\&quot;&gt;&lt;/script&gt;&quot;; echo &quot;&lt;script src=\\&quot;js/jquery.smooth-scroll.min.js\\&quot;&gt;&lt;/script&gt;&quot;; echo &quot;&lt;script src=\\&quot;js/lightbox.js\\&quot;&gt;&lt;/script&gt;&quot;; echo &quot;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;css/lightbox.css\\&quot; type=\\&quot;text/css\\&quot; media=\\&quot;screen\\&quot; /&gt;&quot;; [/php] （就是使其倒入刚下载的js与css） 3.继续在到core\\print_api.php下,找到if ( $t_attachment[‘can_download’] )，将第一处的a标签最后，加入rel=”lightbox”或者rel=”lightbox[groupname]”，就是这样 [php] $t_href_start = ‘&lt;a href=&quot;’ . string_attribute( $t_attachment[‘download_url’] ) . ‘&quot; rel=&quot;lightbox[group]&quot; &gt;’; [/php] 4.再修改一下if ( !$t_attachment[‘exists’] ) 中的部分内容就更完美了 比如注释掉echo $t_href_start; [php] //echo $t_href_start; [/php] 再将 [php] echo $t_href_end . ‘&amp;#160;’ . $t_href_start . $t_file_display_name . $t_href_end . $t_href_clicket . ‘ (‘ . $t_filesize . ‘ ‘ . lang_get( ‘bytes’ ) . ‘) ‘ . ‘&lt;span&gt;’ . $t_date_added . ‘&lt;/span&gt;’; [/php] 改成 [php] echo $t_file_display_name . $t_href_clicket . ‘ (‘ . $t_filesize . ‘ ‘ . lang_get( ‘bytes’ ) . ‘) ‘ . ‘&lt;span&gt;’ . $t_date_added . ‘&lt;/span&gt;’; [/php] OK,我们一起看一下现在的效果，点击图片 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/f2.png 现在就变的很酷炫了哦！还可以直接看下一张图片。赶紧试试吧， 以上3种方法均是独立的，您只要选择一种或二种。推荐1和3配合任何问题，都可以留言，微博，邮件我","categories":[{"name":"技术探讨","slug":"技术探讨","permalink":"https://chengaomin.github.io/categories/技术探讨/"}],"tags":[{"name":"Mantis","slug":"Mantis","permalink":"https://chengaomin.github.io/tags/Mantis/"},{"name":"Mantis图片附件","slug":"Mantis图片附件","permalink":"https://chengaomin.github.io/tags/Mantis图片附件/"},{"name":"Mantis图片预览","slug":"Mantis图片预览","permalink":"https://chengaomin.github.io/tags/Mantis图片预览/"},{"name":"Mantis查看大图","slug":"Mantis查看大图","permalink":"https://chengaomin.github.io/tags/Mantis查看大图/"}]},{"title":"RobotFramework+Selenium2Library+Httpwatch测试前端性能/响应/加载时间","slug":"robotframeworkselenium2libraryhttpwatch-e6-b5-8b-e8-af-95-e5-89-8d-e7-ab-af-e6-80-a7-e8-83-bd-e5-93-8d-e5-ba-94-e5-8a-a0-e8-bd-bd-e6-97-b6-e9-97-b4","date":"2013-05-08T12:39:30.000Z","updated":"2017-01-11T07:42:49.366Z","comments":true,"path":"2013/05/08/robotframeworkselenium2libraryhttpwatch-e6-b5-8b-e8-af-95-e5-89-8d-e7-ab-af-e6-80-a7-e8-83-bd-e5-93-8d-e5-ba-94-e5-8a-a0-e8-bd-bd-e6-97-b6-e9-97-b4/","link":"","permalink":"https://chengaomin.github.io/2013/05/08/robotframeworkselenium2libraryhttpwatch-e6-b5-8b-e8-af-95-e5-89-8d-e7-ab-af-e6-80-a7-e8-83-bd-e5-93-8d-e5-ba-94-e5-8a-a0-e8-bd-bd-e6-97-b6-e9-97-b4/","excerpt":"引子： httpwatch是什么？我就不多说了，不知道可以直接百度or谷歌 其实httpwatch还有其他很多强大的功能，我们今天只是用他的一个关于时间的功能 来测试页面加载的时间（包括ajax请求返回时间等） 这个例子也只是个引子，更多强大的功能，还是得靠大家一起挖掘 一**.**准备工作： 1.安装和调试好RF（相信你肯定ok了） 2.安装和导入好Selenium2Library（你肯定也好了） 3.安装Httpwatch，前往http://www.httpwatch.com/download/ 下载最新的版本，可以下载免费版的就ok，当然，你要是略有小强迫症，一定要安装pro版，那就自己搜索下破解版吧，记得安装8.4以上版本哦（顺便看好其对应的最高支持的ff版本） 4.Httpwatch貌似只支持IE和firefox，so，下面的测试我选用firefox为例，我用的FF18 二**.编写Httpwatch的Library** 从httpwatch8.4开始，有了AttachByTitle方法，可以与selenium结合 安装完httpwatch，你可以在他的安装目录下找到几个使用例子，不过可能是C#的，不过没有关系，看看思路即可 下面我给出简单的5个步骤 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/hattpwatch流程图.png 下面我们直接开始写httpwatch的library吧","text":"引子： httpwatch是什么？我就不多说了，不知道可以直接百度or谷歌 其实httpwatch还有其他很多强大的功能，我们今天只是用他的一个关于时间的功能 来测试页面加载的时间（包括ajax请求返回时间等） 这个例子也只是个引子，更多强大的功能，还是得靠大家一起挖掘 一**.**准备工作： 1.安装和调试好RF（相信你肯定ok了） 2.安装和导入好Selenium2Library（你肯定也好了） 3.安装Httpwatch，前往http://www.httpwatch.com/download/ 下载最新的版本，可以下载免费版的就ok，当然，你要是略有小强迫症，一定要安装pro版，那就自己搜索下破解版吧，记得安装8.4以上版本哦（顺便看好其对应的最高支持的ff版本） 4.Httpwatch貌似只支持IE和firefox，so，下面的测试我选用firefox为例，我用的FF18 二**.编写Httpwatch的Library** 从httpwatch8.4开始，有了AttachByTitle方法，可以与selenium结合 安装完httpwatch，你可以在他的安装目录下找到几个使用例子，不过可能是C#的，不过没有关系，看看思路即可 下面我给出简单的5个步骤 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/hattpwatch流程图.png 下面我们直接开始写httpwatch的library吧 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/hattpwatchLIB.png 三**.使用/**实战测试响应时间 1.导入Selenium2Library和HttpWatch.py，如图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/h1.png 如果你的库没有错的话，应该是黑色的 并且按F5，会看到httpwatch库中的内容 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/h2.png 2.使浏览器启动时加载httpwatch的插件 前面说到httpwatch现在只支持IE和FF Webdriver启动IE是会默认加载httpwatch的，所以不用设置什么 而FF不会，所以打开FF时，要指定一下ff_profile_dir（这个怎么设置，请看我前面一篇文章，这里不再赘述http://cgmblog.sinaapp.com/html/294.html） 3.编写测试case [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/h3.png 这个case是测试一下我点击“百度一下”之后，显示结果要多少时间（和网速有关） 4.运行/查看结果 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/h4.png 0.911秒，看来我这网速还不错啊 至此，一个简单的测试前端响应/加载时间的自动化脚本完成了！ 之后，这些时间被记录下来了，不能只是在这个log中，你可以将数据写入excel（我暂时选择了excel，比较轻便和移动），也可以写入数据库，最后进行分析等等 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/h5.png Httpwatch还有其他众多的功能，比如抓取ajax返回的内容啊等等，都待你自己去发掘了 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/05/h6-1024x534.png Httpwatch的自动化api文档http://apihelp.httpwatch.com/#Automation Overview.html","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"httpwatch","slug":"httpwatch","permalink":"https://chengaomin.github.io/tags/httpwatch/"},{"name":"Selenium2Library","slug":"Selenium2Library","permalink":"https://chengaomin.github.io/tags/Selenium2Library/"},{"name":"前端性能","slug":"前端性能","permalink":"https://chengaomin.github.io/tags/前端性能/"}]},{"title":"RobotFramework的Setup或Teardowm中执行多个关键字","slug":"robotframework-e7-9a-84setup-e6-88-96teardowm-e4-b8-ad-e6-89-a7-e8-a1-8c-e5-a4-9a-e4-b8-aa-e5-85-b3-e9-94-ae-e5-ad-97","date":"2013-04-30T03:03:06.000Z","updated":"2017-01-11T07:42:49.379Z","comments":true,"path":"2013/04/30/robotframework-e7-9a-84setup-e6-88-96teardowm-e4-b8-ad-e6-89-a7-e8-a1-8c-e5-a4-9a-e4-b8-aa-e5-85-b3-e9-94-ae-e5-ad-97/","link":"","permalink":"https://chengaomin.github.io/2013/04/30/robotframework-e7-9a-84setup-e6-88-96teardowm-e4-b8-ad-e6-89-a7-e8-a1-8c-e5-a4-9a-e4-b8-aa-e5-85-b3-e9-94-ae-e5-ad-97/","excerpt":"","text":"有时候需要在setup和teardowm中执行多个关键字 以前的做法就是重新封装一个keyword，然后调用，It’s OK 这里介绍另外一个方法，使用Run Keywords来实现 用法其实非常的简单 如下图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/04/runkeywords.png &nbsp; 关键字可以传参数，想执行2个以上的关键字时，中间使用 AND 隔开（大写） 看一下效果吧 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/04/runkeywords-result.png &nbsp; OK，Perfect！ 方法很简单，给需要的同志一个提醒吧","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"run keywords","slug":"run-keywords","permalink":"https://chengaomin.github.io/tags/run-keywords/"},{"name":"setup","slug":"setup","permalink":"https://chengaomin.github.io/tags/setup/"},{"name":"teardown","slug":"teardown","permalink":"https://chengaomin.github.io/tags/teardown/"}]},{"title":"Selenium2Library使用Remote功能(RobotFramework)","slug":"selenium2library-e4-bd-bf-e7-94-a8remote-e5-8a-9f-e8-83-bdrobotframework","date":"2013-04-28T00:32:22.000Z","updated":"2017-01-11T07:42:49.364Z","comments":true,"path":"2013/04/28/selenium2library-e4-bd-bf-e7-94-a8remote-e5-8a-9f-e8-83-bdrobotframework/","link":"","permalink":"https://chengaomin.github.io/2013/04/28/selenium2library-e4-bd-bf-e7-94-a8remote-e5-8a-9f-e8-83-bdrobotframework/","excerpt":"","text":"[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/04/openbrowser.png 在selenium2library库的open browser中，除了我们常用的url，browser外，还有几个不常用的参数，ff_profile_dir(这个在另外一篇文字中我讲过了)，今天主要是讲一下remote_url的用法 &nbsp; 1.下载1）去selenium的官方googlecode下载selenium-server-standalone-XXXX.jar 地址https://code.google.com/p/selenium/downloads/list 2）若你没有java的运行环境，请自行安装下，自行配置好环境变量（略） &nbsp; 2.启动主节点在命令行中打入命令java -jar selenium-server-standalone-XXXX.jar -role hub 默认启动默认端口为4444，当然，你不喜欢4444也可以换个端口，加上 -port XXXX即可 启动完后，你可以用浏览器打开 http://localhost:4444/grid/console 这个网址查看主节点的状态 &nbsp; 3.启动子节点现在我让另外一台机子做为子节点（主节点的机子也可以作为子节点）。同样打开命令 java -jar selenium-server-standalone-XXXX.jar -role node -hub http://192.168.XX.XXX:4444/grid/register 其中192.168.XX.XXX为主节点机子的ip地址，可以使用ipconfig命令在命令行查看得到。上面命令默认启动5555端口，可使用-port 更改。其他参数设置请自己看吧https://code.google.com/p/selenium/wiki/Grid2 然后你可以在主节点机子上 ，输入http://localhost:4444/grid/console网址查看到这个子节点状态。 &nbsp; 4.测试调用[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/04/demo_remote.png （子节点的电脑上也必须有相应的浏览器driver，driver地址也必须在path中） 好了，运行一下，不出意外的话，子节点的浏览器就会起来了！","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"Selenium2Library","slug":"Selenium2Library","permalink":"https://chengaomin.github.io/tags/Selenium2Library/"},{"name":"open browser","slug":"open-browser","permalink":"https://chengaomin.github.io/tags/open-browser/"},{"name":"remote_url","slug":"remote-url","permalink":"https://chengaomin.github.io/tags/remote-url/"}]},{"title":"Robot Framework中启动Firefox时加载扩展","slug":"robot-framework-e4-b8-ad-e5-90-af-e5-8a-a8firefox-e6-97-b6-e5-8a-a0-e8-bd-bd-e6-89-a9-e5-b1-95","date":"2013-03-20T05:39:24.000Z","updated":"2017-01-11T07:42:49.359Z","comments":true,"path":"2013/03/20/robot-framework-e4-b8-ad-e5-90-af-e5-8a-a8firefox-e6-97-b6-e5-8a-a0-e8-bd-bd-e6-89-a9-e5-b1-95/","link":"","permalink":"https://chengaomin.github.io/2013/03/20/robot-framework-e4-b8-ad-e5-90-af-e5-8a-a8firefox-e6-97-b6-e5-8a-a0-e8-bd-bd-e6-89-a9-e5-b1-95/","excerpt":"引子：某天在研究Httpwatch，想写个简单的Library给Robot Framework，这样就可以测试前端页面的相应时间，也可以抓包数据 httpwatch只支持ie和firefox，简单的写了几个关键字之后，在ie浏览器测试成功，在firefox失败 发现当webdriver启动firefox时，httpwatch扩展可以被加载，so，想办法让他加载起来吧！ 1，首先，打开你的firefox，去把你要加载的扩展，插件，都开启，把你不想要的，全部禁用，如下图，我只留了一个[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/03/ff2.png 2.在地址栏输入about:support ，看到 配置文件夹，点击“打开文件夹”，如下图","text":"引子：某天在研究Httpwatch，想写个简单的Library给Robot Framework，这样就可以测试前端页面的相应时间，也可以抓包数据 httpwatch只支持ie和firefox，简单的写了几个关键字之后，在ie浏览器测试成功，在firefox失败 发现当webdriver启动firefox时，httpwatch扩展可以被加载，so，想办法让他加载起来吧！ 1，首先，打开你的firefox，去把你要加载的扩展，插件，都开启，把你不想要的，全部禁用，如下图，我只留了一个[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/03/ff2.png 2.在地址栏输入about:support ，看到 配置文件夹，点击“打开文件夹”，如下图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/03/ff1.png 之后会打开一个文件夹，把这个文件夹的目录记录下来（我的是【C:\\Users\\我用户名\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\nui9qerz.default】），就是火狐的配置目录了，一会儿赢rf启动时候，把配置告诉RF就可以 3.打开你的RIDE，写Open Browser http://www.google.com ff ff_profile_dir=C:\\Users\\我用户名\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\nui9qerz.default （注意，把“\\”改成“\\”了哦） 4.运行起来，看看是不是加载了，如下图[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/03/ff3.png 嗯，看来是so easy！","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"},{"name":"技术探讨","slug":"Robot-Framework/技术探讨","permalink":"https://chengaomin.github.io/categories/Robot-Framework/技术探讨/"}],"tags":[{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"ff_profile_dir","slug":"ff-profile-dir","permalink":"https://chengaomin.github.io/tags/ff-profile-dir/"},{"name":"firefox","slug":"firefox","permalink":"https://chengaomin.github.io/tags/firefox/"},{"name":"httpwatch","slug":"httpwatch","permalink":"https://chengaomin.github.io/tags/httpwatch/"}]},{"title":"使用Jenkins自动执行Robot Framework中的case","slug":"e4-bd-bf-e7-94-a8jenkins-e8-87-aa-e5-8a-a8-e6-89-a7-e8-a1-8crobot-framework-e4-b8-ad-e7-9a-84case","date":"2013-01-15T12:47:10.000Z","updated":"2017-01-11T07:42:49.362Z","comments":true,"path":"2013/01/15/e4-bd-bf-e7-94-a8jenkins-e8-87-aa-e5-8a-a8-e6-89-a7-e8-a1-8crobot-framework-e4-b8-ad-e7-9a-84case/","link":"","permalink":"https://chengaomin.github.io/2013/01/15/e4-bd-bf-e7-94-a8jenkins-e8-87-aa-e5-8a-a8-e6-89-a7-e8-a1-8crobot-framework-e4-b8-ad-e7-9a-84case/","excerpt":"1Jenkins的介绍Jenkins由以前的hudson更名而来。Jenkins的主要功能是监视重复工作的执行，例如软件工程的构建或在cron下设置的jobs。具体地： *软件的持续构建和测试。本质上提供了一个易于使用的持续集成系统，使得开发人员更容易地将改变集成到工程中，使得用户更容易获得一个新的build。自动化，持续的构建提高了软件开发的效率。 *监视外部运行的job的执行。例如，对于cron，你将会收到email包含job的output，你需要检查email来确认是否job broke。Jenkins将保持这些outputs且使得你更加容易地注意到job的broke。","text":"1Jenkins的介绍Jenkins由以前的hudson更名而来。Jenkins的主要功能是监视重复工作的执行，例如软件工程的构建或在cron下设置的jobs。具体地： *软件的持续构建和测试。本质上提供了一个易于使用的持续集成系统，使得开发人员更容易地将改变集成到工程中，使得用户更容易获得一个新的build。自动化，持续的构建提高了软件开发的效率。 *监视外部运行的job的执行。例如，对于cron，你将会收到email包含job的output，你需要检查email来确认是否job broke。Jenkins将保持这些outputs且使得你更加容易地注意到job的broke。 2安装Jenkins下载地址 http://jenkins-ci.org/，自己下载安装一下即可，这里不多说了，相信大家都会的 3安装Jenkins的robot framework插件打开你的Jenkins(默认的话就是localhost:8080)，来到插件管理 去可选插件中搜索Robot Framework ，并按照Robot Framework plugin即可 4使用Robot Framework plugin创建新Job1，点击新Job，输入一个任务名称，并选择“构建一个自由风格的软件项目”，ok 2，在构建中，选择“Execute Windows batch command”，输入pybot d:\\rf\\a.txt (这只是举个例子，具体执行哪个目录下的哪些case，由你自己决定，命令怎么写？请参见RF的官方用户文档) 3，构建后的操作，选择“Publish Robot Framework test results” Directory of Robot output 填 \\ Log/Report link 要根据你的output文件了，默认的话，你可以不填 Thresholds for build result 阀值设置，暂时还没明白透，暂时写个50和50吧 ok，基本就这样吧，保存 之后点击立刻构建吧 如果一切顺利，你的case运行结果就会展现了 最后截个图吧 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/01/jenkins-rf.png 最后问个问题，这个插件对中文的case名称似乎支持的不好，都显示“？？？？？？”，望高人指点！","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"Jenkins","slug":"Jenkins","permalink":"https://chengaomin.github.io/tags/Jenkins/"},{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"}]},{"title":"Robot Framework中使用AtuoItLibrary教程","slug":"robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8atuoitlibrary-e6-95-99-e7-a8-8b","date":"2013-01-10T12:19:10.000Z","updated":"2017-01-11T07:42:49.356Z","comments":true,"path":"2013/01/10/robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8atuoitlibrary-e6-95-99-e7-a8-8b/","link":"","permalink":"https://chengaomin.github.io/2013/01/10/robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8atuoitlibrary-e6-95-99-e7-a8-8b/","excerpt":"今天在公司使用Jenkins来做RF的集成时 我发现用RIDE使用AutoItLibrary没有问题 而用Jenkins中的RF插件执行case时，import这个AutoItLibrary库没有成功，导致无法识别其中的关键字 于是回家用电脑一试，竟然没有发生公司的问题 区别在于，公司64位电脑，家是32位的。 而且64位电脑只安装AutoItLibrary是不行的，还有安装他的主程序AutoIt V3 好了，反正我是推荐大家使用32位的系统啦，64位总是会遇到一些莫名的错误，唉。。。 上面那个问题，谁有解决方法的，记得告诉我，谢谢 1安装AutoItLibraryi首先安装pywin32，地址：http://sourceforge.net/projects/pywin32/files/pywin32/去下载最新的对应版本吧，32位，64位，python版本，自己都看准了下载 安装一下就ok","text":"今天在公司使用Jenkins来做RF的集成时 我发现用RIDE使用AutoItLibrary没有问题 而用Jenkins中的RF插件执行case时，import这个AutoItLibrary库没有成功，导致无法识别其中的关键字 于是回家用电脑一试，竟然没有发生公司的问题 区别在于，公司64位电脑，家是32位的。 而且64位电脑只安装AutoItLibrary是不行的，还有安装他的主程序AutoIt V3 好了，反正我是推荐大家使用32位的系统啦，64位总是会遇到一些莫名的错误，唉。。。 上面那个问题，谁有解决方法的，记得告诉我，谢谢 1安装AutoItLibraryi首先安装pywin32，地址：http://sourceforge.net/projects/pywin32/files/pywin32/去下载最新的对应版本吧，32位，64位，python版本，自己都看准了下载 安装一下就ok ii然后安装AutoItLibrary，地址https://code.google.com/p/robotframework-autoitlibrary/downloads/list下载之后解压缩，命令行进入此目录，打命令 python setup.py install （记得用管理员身份运行哦） 如果你是32位系统，不用看第三步了，因为已经ok了 iii安装AutoIt V3，地址http://www.autoitscript.com/site/autoit/downloads/下载AutoIt V3，安装一下即可 2使用AutoItLibraryi导入这个库，如图[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/01/lib.png ii写下如下case[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/01/case1.png iii运行一下，如果一切顺利，你应该会看到计算器出现[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/01/cal.png 好了，这样就安装OK了，至于这个AutoItLibrary库有什么作用 可以结束进程啊，操纵window啊等等了，等你自己发掘吧！ 2013-01-11 更正：Jenkins的RF插件能在64位系统下使用AutoItLibrary了，是我的疏忽，没有安装pywin32。","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"AutoItLibrary","slug":"AutoItLibrary","permalink":"https://chengaomin.github.io/tags/AutoItLibrary/"}]},{"title":"Robot Framework中使用HttpLibrary教程and中文支持","slug":"robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8httplibrary-e6-95-99-e7-a8-8b","date":"2013-01-09T12:58:17.000Z","updated":"2017-01-11T07:42:49.355Z","comments":true,"path":"2013/01/09/robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8httplibrary-e6-95-99-e7-a8-8b/","link":"","permalink":"https://chengaomin.github.io/2013/01/09/robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8httplibrary-e6-95-99-e7-a8-8b/","excerpt":"好懒，好久没有更新过了，呼呼。。。 今天更新一篇吧，教大家在RF中如何安装HttpLibrary和使用他 为什么要用到这个库？？ 主要是因为我公司的一些项目需求。 举一个例子吧 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/01/energy_meitu_2.png","text":"好懒，好久没有更新过了，呼呼。。。 今天更新一篇吧，教大家在RF中如何安装HttpLibrary和使用他 为什么要用到这个库？？ 主要是因为我公司的一些项目需求。 举一个例子吧 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/01/energy_meitu_2.png 看红色框中的曲线图，他是用highchart的js显示出来的，而他每个点的数据是ajax请求另一个方法得到的 so，我想用selenium2library从页面上获取，就比较困难了，起码我自己没有找到好办法（如何你有，可以下面回复我） 然后我就用Selenium2Library来执行ajax，模拟同样的操作来获取到了这一串json，再显示在页面上，然后get text获取 这不失为一种方法，我也这么运用了，有时间我也会分享这个方法 今天看到这个httpLibrary的库，于是去试试，效果还不错，也很好的获取到了这个图的json，特来分享一下，也算是记录下，以后给自己看 废话说的多了点，我们下面进入正题吧 1安装HttpLibraryso easy 直接在命令行，输入 pip install –upgrade robotframework-httplibrary。。。。。。。。。 看到Successfully installed robotframework-httplibrary了么？？ ok，安装成功！ 2修改编码告诉你个小秘密，这个库不支持中文哦，那我们都是中国人，开发免不了会写几个中文进去，POST提交可能有中文 那么我们就修改一个源码，使其支持中文呗 打开\\Python27\\Lib\\site-packages\\HttpLibrary 看到2个py文件，把其他pyc文件删除 打开2个py文件，分别加入 import sys reload(sys) sys.setdefaultencoding(‘utf8’)就ok了 3使用HTTPLibrary先在Library处，来Import一下 要这样写 Import HttpLibrary.HTTP 如图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/01/import.png 然后写段case吧 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/01/case.png 执行一下吧，成功登陆了吧，而且支持post内容为中文了吧 再看看里面这个库，还有一些其他关键字，然后发现一些json的关键字，很好用 因为我前面那个曲线图，返回的就是json，用里面的关键字处理json，方便了 看我示范一下 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2013/01/result.png 好了，其他的关键字，待你自己发掘吧！","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"HttpLibrary","slug":"HttpLibrary","permalink":"https://chengaomin.github.io/tags/HttpLibrary/"}]},{"title":"Robot Framework中使用DatabaseLibrary来连接数据库(SQLServer+MySQL)","slug":"robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8databaselibrary-e6-9d-a5-e8-bf-9e-e6-8e-a5-e6-95-b0-e6-8d-ae-e5-ba-93sqlservermysql","date":"2012-12-05T13:00:27.000Z","updated":"2017-01-11T07:42:49.357Z","comments":true,"path":"2012/12/05/robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8databaselibrary-e6-9d-a5-e8-bf-9e-e6-8e-a5-e6-95-b0-e6-8d-ae-e5-ba-93sqlservermysql/","link":"","permalink":"https://chengaomin.github.io/2012/12/05/robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8databaselibrary-e6-9d-a5-e8-bf-9e-e6-8e-a5-e6-95-b0-e6-8d-ae-e5-ba-93sqlservermysql/","excerpt":"上一篇已经讲过了用DatabaseLibrary连接MYSQL数据库，但是中文部分出现了“？？”的情况 这次我们继续介绍一个不会出现此情况的方法 先安装好2个工具，一个是DatabaseLibrary，还有一个是pyodbc （怎么安装已经在上一篇说过，不明白的可以再看看http://cgmblog.sinaapp.com/html/219.html） 1.用pyodbc连接MySQL 要用pyodbc连接mysql，还需要一个工具，就是MySQL Connector，地址：http://www.mysql.com/downloads/connector/odbc/ 下载对应版本，下载还之后，你打开你电脑的ODBC数据源（在控制面板-管理工具-ODBC数据源），点击添加 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/ODBC.png","text":"上一篇已经讲过了用DatabaseLibrary连接MYSQL数据库，但是中文部分出现了“？？”的情况 这次我们继续介绍一个不会出现此情况的方法 先安装好2个工具，一个是DatabaseLibrary，还有一个是pyodbc （怎么安装已经在上一篇说过，不明白的可以再看看http://cgmblog.sinaapp.com/html/219.html） 1.用pyodbc连接MySQL 要用pyodbc连接mysql，还需要一个工具，就是MySQL Connector，地址：http://www.mysql.com/downloads/connector/odbc/ 下载对应版本，下载还之后，你打开你电脑的ODBC数据源（在控制面板-管理工具-ODBC数据源），点击添加 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/ODBC.png 看到此图，看到MySQL的ODBC，比如我这个叫“MySQL ODBC 5.2w Driver”你安装的不一定叫这个，请自己看清楚了，下面会用到 之后就可以开始了 还是引用上次的数据库，如下 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/mysql1.png 在RF中如下描述 Connect To Database Using Custom Params pyodbc “Driver={MySQL ODBC 5.2w Driver};Server=127.0.0.1;Port=3306;Database=test;User=root; “ ${a} query select * from table1 Disconnect From Database (两边的是英文的引号，复制出来可能是中文，请自己改成英文！)运行结果 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/run1.png 中文还是没显示？？？还是一串乱七八糟的英文+数字？？？怎么办？？？ 其实没关系，这其实是Ascii码，再做个试验 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/run2.png 我们把“小明”log出来看，发现在log日志中，小明显示出了中文 我们再用should be equal 来比较一下 \\u5c0f\\u660e 和 小明 是不是一样 结果是PASS，so，其实他们是一样的，不用在乎他看上去是“\\u5c0f\\u660e ”或是“小明”，其实一样 2.用pyodbc连接SQLServer 我不知道连接SQLServer是否也要去下载一下ODBC，我是自己安装了SQLServer，所以已经有了，你可以自己打开ODBC看看，是否已经有了 （新安装的win8，已经自带SQLServer，如第一幅图片） RF如下描述即可 Connect To Database Using Custom Params pyodbc “DRIVER={SQL Server};SERVER=127.0.0.1;DATABASE=test;UID=sa;PWD=123456” ${a} query select * from table1 Disconnect From Database (两边的是英文的引号，复制出来可能是中文，请自己改成英文！)结果会和MySQL的一样 DatabaseLibrary中还有一些其他的方法来帮助你操纵数据库 待您自己发掘吧。。。","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"Database Library","slug":"Database-Library","permalink":"https://chengaomin.github.io/tags/Database-Library/"},{"name":"pyodbc","slug":"pyodbc","permalink":"https://chengaomin.github.io/tags/pyodbc/"}]},{"title":"Robot Framework中使用DatabaseLibrary来连接数据库(MySQL)","slug":"robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8databaselibrary-e6-9d-a5-e8-bf-9e-e6-8e-a5-e6-95-b0-e6-8d-ae-e5-ba-93mysql","date":"2012-12-04T13:30:20.000Z","updated":"2017-01-11T07:42:49.353Z","comments":true,"path":"2012/12/04/robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8databaselibrary-e6-9d-a5-e8-bf-9e-e6-8e-a5-e6-95-b0-e6-8d-ae-e5-ba-93mysql/","link":"","permalink":"https://chengaomin.github.io/2012/12/04/robot-framework-e4-b8-ad-e4-bd-bf-e7-94-a8databaselibrary-e6-9d-a5-e8-bf-9e-e6-8e-a5-e6-95-b0-e6-8d-ae-e5-ba-93mysql/","excerpt":"当初自己想用RF来连接数据库查询的时候，网络上查询了一番，发现只有一篇文章，是连接Oracle的。 如果你想操作Oracle，那就去看看吧,地址：http://blog.sina.com.cn/s/blog_654c6ec70100u9fr.html 如果你想连接MySQL 和 SQLServer的话，那么请继续往下看吧 1.安装DatabaseLibrary 在RF的官网上，有DatabaseLibrary的链接，DatabaseLibrary有2个版本，Python和Java版 本人用的是Python版，下载地址：http://franz-see.github.com/Robotframework-Database-Library/ 安装方法上面也写的很清楚，我再重复一下吧 如果你下载的右上角的ZIP包的话，请随意解压缩，然后在命令行，cd到此文件夹下，然后python setup.py install，就ok了 如果你安装的ActivePython的话，你可以不用下载东西，直接在命令行打入pip install robotframework-databaselibrary 自动下载安装完成 验证按照是否完成：请看我上一篇博文，和验证Selenium2Library一样，去把DatabaseLibrary加入Library内，然后按F5，看是否出现 如下图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/DatabaseLibrary.png Import的时候，请注意大小写哦！","text":"当初自己想用RF来连接数据库查询的时候，网络上查询了一番，发现只有一篇文章，是连接Oracle的。 如果你想操作Oracle，那就去看看吧,地址：http://blog.sina.com.cn/s/blog_654c6ec70100u9fr.html 如果你想连接MySQL 和 SQLServer的话，那么请继续往下看吧 1.安装DatabaseLibrary 在RF的官网上，有DatabaseLibrary的链接，DatabaseLibrary有2个版本，Python和Java版 本人用的是Python版，下载地址：http://franz-see.github.com/Robotframework-Database-Library/ 安装方法上面也写的很清楚，我再重复一下吧 如果你下载的右上角的ZIP包的话，请随意解压缩，然后在命令行，cd到此文件夹下，然后python setup.py install，就ok了 如果你安装的ActivePython的话，你可以不用下载东西，直接在命令行打入pip install robotframework-databaselibrary 自动下载安装完成 验证按照是否完成：请看我上一篇博文，和验证Selenium2Library一样，去把DatabaseLibrary加入Library内，然后按F5，看是否出现 如下图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/DatabaseLibrary.png Import的时候，请注意大小写哦！ 2.安装MySQL的Database Interfaces 在这里：http://wiki.python.org/moin/DatabaseInterfaces 有许多的DatabaseInterface 您可以选择你想要的，比如我下载个MySQL的Interface吧，地址：https://github.com/petehunt/PyMySQL 点上方的ZIP下载源码，之后解压出来，命令行进入此目录，运行 python setup.py install 即可 好了，如何使用？待会儿讲，我们再安装SQLServer的Database Interfaces 3.安装SQLServer的Database Interfaces 我下载的是：http://code.google.com/p/pyodbc/downloads/list 请下载对应的版本 直接安装就ok了，一闪而过 4.使用DatabaseLibrary连接并操作MySQL Connect To Database Using Custom Params pymysql host=’127.0.0.1’, port=3306, user=’root’, passwd=’’, db=’test’ ${a} query select * from table1 Disconnect From Database 好了，先看看我的table1 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/mysql1.png 再看看运行之后的结果吧 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/mysql2.png 我们发现，中文都显示成了“？？”，咋办？？ 办法肯定有，转码。 其实刚刚前面装的pyodbc也可以连接mysql哦，而且对中文不会出现“？？”的现象哦 好吧，我们明天再继续讲SQLServer和处理中文的问题吧","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"Database Library","slug":"Database-Library","permalink":"https://chengaomin.github.io/tags/Database-Library/"}]},{"title":"Robot Framework + Selenium2Library 安装","slug":"robot-framework-selenium2library-e5-ae-89-e8-a3-85","date":"2012-12-03T12:01:29.000Z","updated":"2017-01-11T07:42:49.360Z","comments":true,"path":"2012/12/03/robot-framework-selenium2library-e5-ae-89-e8-a3-85/","link":"","permalink":"https://chengaomin.github.io/2012/12/03/robot-framework-selenium2library-e5-ae-89-e8-a3-85/","excerpt":"对Robot Framework的简单介绍 Robot Framework（以下简称RF）是一种基于Python的可扩展关键字驱动自动化测试框架。RF是一种通用的，应用和技术相互独立的框架，下面是一幅模块化的结构图，图片来自官方文档。 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/RF模块化结构.png 若想更深入的了解RF，推荐你好好看一下RF的官方文档，地址：http://code.google.com/p/robotframework/ 在我刚接触到他的时候，就觉得他就是一好产品，很容易上手，配合Selenium2Library，做自动化的web测试非常的简单易用。 在我首次安装他的时候，真是艰辛啊，装了卸，卸了装，好几次之后，终于是装上了。 Robot Framework+Selenium2Library的安装 推荐安装内容及下载地址","text":"对Robot Framework的简单介绍 Robot Framework（以下简称RF）是一种基于Python的可扩展关键字驱动自动化测试框架。RF是一种通用的，应用和技术相互独立的框架，下面是一幅模块化的结构图，图片来自官方文档。 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/RF模块化结构.png 若想更深入的了解RF，推荐你好好看一下RF的官方文档，地址：http://code.google.com/p/robotframework/ 在我刚接触到他的时候，就觉得他就是一好产品，很容易上手，配合Selenium2Library，做自动化的web测试非常的简单易用。 在我首次安装他的时候，真是艰辛啊，装了卸，卸了装，好几次之后，终于是装上了。 Robot Framework+Selenium2Library的安装 推荐安装内容及下载地址 1.Python环境 你可以安装官方Python：http://www.python.org/download/releases/2.7.3/ 下载合适你电脑的版本 （我家里电脑是32位，公司电脑是64位。不管32还是64，都可以正常使用RFS） 安装完成之后，记得配置好自己电脑的Path哦！ 怎么配置？？不用我说了吧。。。。 还是说一下吧，右击“计算机”，点属性，点高级系统设置，点下方的环境变量，出来了，自己找到PATH（没有就自己新建一个），将你安装Python的目录写进去，比如我 D:\\Python27;D:\\Python27\\Scripts ，ok，现在python环境ok了 当然，我更推荐安装ActivePython：http://www.activestate.com/activepython/downloads ，下载对应版本，安装就ok，不用配置环境变量，他自动帮你配置好，而且还有一些其他实用工具包含在里面了。 2.wxpython （ride要有他支持） 地址：http://www.wxpython.org/download.php#stable 请下载对应的unicode的版本，一路下一步就ok了 3.Robot Framework 地址：http://code.google.com/p/robotframework/downloads/list 下载你要的版本robotframework-2.7.5 一路下一步就ok 验证安装是否成功：命令行打pybot –version [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/pybot.png 4.Robot Framework ride 地址：https://github.com/robotframework/RIDE/downloads robotframework-ride-0.53 下载下来，一路下一步也ok啦 验证安装是否成功：打开D:\\Python27\\Scripts\\ride.py [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/ride.png 5.Selenium2Library 地址：https://github.com/rtomac/robotframework-selenium2library/downloads robotframework-selenium2library-1.1.0 一路下一步就ok 验证是否安装成功： 如下图 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/12/Selenium2Library.png 随意新建一个工程，一个suite，一个case，然后试着在suite中添加一个library，写Selenium2Library（注意大小写！），确定之后，不是红色，说明你已经成功了！按F5，看看是不是有这个了？如上图，如果有了，那么恭喜你，已经成功了！ 至此RFS的基本环境完成了！ 第1，2步是你必须这样做的，后面的3部，其实还有一个更容易的步骤，前提是你安装的activePython和你的网络正常！ 那么，完成好1，2部之后，直接打开命令行，打 pip install robotframework pip install robotframework-ride pip install robotframework-selenium2library 如果一切顺利，也就ok了！ 常见问题： 1.想驱动IE，或者Chrome，请下载2个驱动， IE:http://code.google.com/p/selenium/downloads/list Chrome:http://code.google.com/p/chromedriver/downloads/list Firefox:不用驱动，直接可以 将驱动放到D:\\Python下即可 2.请确保你的安装目录为英文，且没有空格 你的用户名的文件夹也要是英文的哦（我前几天安装了win8，然后用户名是中文，最后安装木有成功啊！后来换英文，就ok了） 3.记得我当初安装的时候，还遇到过一个报错，具体内容已经记不得了，反正就是一直报 ‘utf-8’ 什么的错 解决办法就是到script目录下的某个py文件运行下就好了，具体我忘了，如果你遇到，试试吧 4.如果安装有什么问题，回复或者mail 下期预告： 下次会更显数据库library的安装和连接mysql和sql server的例子 （网上连接数据库的文章就1篇，而且是连接的Oracle的，所以我也分享一下mysql和sql server吧）","categories":[{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/categories/Robot-Framework/"}],"tags":[{"name":"RFS","slug":"RFS","permalink":"https://chengaomin.github.io/tags/RFS/"},{"name":"Robot Framework","slug":"Robot-Framework","permalink":"https://chengaomin.github.io/tags/Robot-Framework/"},{"name":"Selenium2Library","slug":"Selenium2Library","permalink":"https://chengaomin.github.io/tags/Selenium2Library/"}]},{"title":"亲临五月天上海诺亚方舟演唱会[2012.10.5]","slug":"e4-ba-b2-e4-b8-b4-e4-ba-94-e6-9c-88-e5-a4-a9-e4-b8-8a-e6-b5-b7-e8-af-ba-e4-ba-9a-e6-96-b9-e8-88-9f-e6-bc-94-e5-94-b1-e4-bc-9a2012-10-5","date":"2012-10-06T06:47:41.000Z","updated":"2017-01-11T07:42:49.350Z","comments":true,"path":"2012/10/06/e4-ba-b2-e4-b8-b4-e4-ba-94-e6-9c-88-e5-a4-a9-e4-b8-8a-e6-b5-b7-e8-af-ba-e4-ba-9a-e6-96-b9-e8-88-9f-e6-bc-94-e5-94-b1-e4-bc-9a2012-10-5/","link":"","permalink":"https://chengaomin.github.io/2012/10/06/e4-ba-b2-e4-b8-b4-e4-ba-94-e6-9c-88-e5-a4-a9-e4-b8-8a-e6-b5-b7-e8-af-ba-e4-ba-9a-e6-96-b9-e8-88-9f-e6-bc-94-e5-94-b1-e4-bc-9a2012-10-5/","excerpt":"内容多图，请耐心等待时隔3年，五月天再次登陆上海，驶着“诺亚方舟”，巡遍世界 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/20120908104942.jpg 昨晚6点多出地铁站，看到周边现场，已经水泄不通了，除了人还是人","text":"内容多图，请耐心等待时隔3年，五月天再次登陆上海，驶着“诺亚方舟”，巡遍世界 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/20120908104942.jpg 昨晚6点多出地铁站，看到周边现场，已经水泄不通了，除了人还是人[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_184157.jpg 一路杀到检票口（路上都是五月天的周边，火爆至极，买好荧光棒等，进去啦！） [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_185759.jpg 现场已经坐满了人了，坐无缺席啊。。。。 咦，每个凳子上都有一张大纸片，看看上面写了什么 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_191122.jpg [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_191439.jpg 还挺有意思，起码让我们有了一种参与感！ 演唱会开始，灯光熄灭，全场蓝色海洋 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_194433.jpg 五月天登场，全场尖叫，呐喊，怒吼！！！ 一首又一首熟悉的歌曲想起。。。 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_204540.jpg 你会突然的发现 ###与其说是五月天的演唱会，不如说是你自己的演唱会 也许演唱会的意义，已经不仅仅是听歌，看偶像 更多的是一种城市生活无法感受的兴奋，激情，欢畅和释放 尽情享受着一刻难得的“与世隔绝”吧 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_204946.jpg ###“当……我和世界不一样 那就让我不一样…….” 《倔强》响起，拿起凳子上的牌子，看着上面的歌词，默默吟唱的时候 现场已然成了彩虹 每个区域举着不同颜色的牌子 ###“这一次为自己疯狂 就这一次我和我的倔强“ 翻过牌子，现场出现了几个大字 ##shanghai mayday [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_221623.jpg ###“把你们的手放进口袋，掏出你们的手机，打开闪关灯” 怎麼去拥有 一道彩虹怎麼去拥抱 一夏天的风天上的星星 笑地上的人总是不能懂 不能知道足够 。。。 现场成为了星空 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_224752.jpg 阿信说 ###“如果2012不是世界末日的话 我希望在上海能找一个更大的场地 在开一次演唱会 我会和我的经纪人说，不要门票，每个人都可以来 条件只有一个，你要会唱五月天的歌” 不知道是不是真的 姑且抱着美好的希望，信着吧 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_225740.jpg 11点30，全部演出结束，离场 是不是正如阿信唱的这样呢 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/IMG_20121005_225928.jpg “请忘了我还一个人” ###喧嚣不在，繁华落尽 下一次的聚首，会是又一个3年么 我，不知道 你，也不知道","categories":[{"name":"生活生活","slug":"生活生活","permalink":"https://chengaomin.github.io/categories/生活生活/"}],"tags":[{"name":"五月天","slug":"五月天","permalink":"https://chengaomin.github.io/tags/五月天/"},{"name":"五月天演唱会上海","slug":"五月天演唱会上海","permalink":"https://chengaomin.github.io/tags/五月天演唱会上海/"},{"name":"五月天诺亚方舟上海","slug":"五月天诺亚方舟上海","permalink":"https://chengaomin.github.io/tags/五月天诺亚方舟上海/"},{"name":"演唱会","slug":"演唱会","permalink":"https://chengaomin.github.io/tags/演唱会/"},{"name":"诺亚方舟","slug":"诺亚方舟","permalink":"https://chengaomin.github.io/tags/诺亚方舟/"}]},{"title":"Sql Server 2008 区分大小写的BUG","slug":"sql-server-2008-e5-8c-ba-e5-88-86-e5-a4-a7-e5-b0-8f-e5-86-99-e7-9a-84bug","date":"2012-10-03T08:27:50.000Z","updated":"2017-01-11T07:42:49.347Z","comments":true,"path":"2012/10/03/sql-server-2008-e5-8c-ba-e5-88-86-e5-a4-a7-e5-b0-8f-e5-86-99-e7-9a-84bug/","link":"","permalink":"https://chengaomin.github.io/2012/10/03/sql-server-2008-e5-8c-ba-e5-88-86-e5-a4-a7-e5-b0-8f-e5-86-99-e7-9a-84bug/","excerpt":"","text":"无意发现 Sql Server 2008 中，如果你创建的数据库中含有“_” 这个下划线，如：wp_test 那么他就会识别大小写。 select ID from wp_test.dbo.users 会报错 而select id from wp_test.dbo.users 就没问题了 不知道这个是Sql Server 2008的bug呢？还是微软有意为之？","categories":[{"name":"技术探讨","slug":"技术探讨","permalink":"https://chengaomin.github.io/categories/技术探讨/"}],"tags":[{"name":"Sql Server 2008","slug":"Sql-Server-2008","permalink":"https://chengaomin.github.io/tags/Sql-Server-2008/"}]},{"title":"PHP获取你的外网IP地址","slug":"php-e8-8e-b7-e5-8f-96-e4-bd-a0-e7-9a-84-e5-a4-96-e7-bd-91ip-e5-9c-b0-e5-9d-80","date":"2012-10-02T09:01:25.000Z","updated":"2017-01-11T07:42:49.376Z","comments":true,"path":"2012/10/02/php-e8-8e-b7-e5-8f-96-e4-bd-a0-e7-9a-84-e5-a4-96-e7-bd-91ip-e5-9c-b0-e5-9d-80/","link":"","permalink":"https://chengaomin.github.io/2012/10/02/php-e8-8e-b7-e5-8f-96-e4-bd-a0-e7-9a-84-e5-a4-96-e7-bd-91ip-e5-9c-b0-e5-9d-80/","excerpt":"获取外网IP，其实很简单哦，win+r，输入cmd，再往cmd里输入ipconfig/all 就能看到所有网络信息啦。。。 [ cmd_ip](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/cmd_ip.gif 正如你看到的，其实当你使用路由器，或者2台路由器，或者在公司等情况下 这个方法其实不怎么灵，只能看到内网的ip，外网的貌似看到不到 不慌，还有一个更easy的方法，直接的百度输入“ip”，第一条，直接跳出你的外网ip地址啦百度一下【ip】","text":"获取外网IP，其实很简单哦，win+r，输入cmd，再往cmd里输入ipconfig/all 就能看到所有网络信息啦。。。 [ cmd_ip](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/cmd_ip.gif 正如你看到的，其实当你使用路由器，或者2台路由器，或者在公司等情况下 这个方法其实不怎么灵，只能看到内网的ip，外网的貌似看到不到 不慌，还有一个更easy的方法，直接的百度输入“ip”，第一条，直接跳出你的外网ip地址啦百度一下【ip】 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/baidu_ip.gif 如上图，就可以得到ip了，那么我们就使用php来获取他咯 不过模拟在百度搜索ip，在获取这个ip，貌似有些麻烦了 看上图，他提示说是来自于www.ip138.com，那么我们进去看看 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/ip138.gif 哦，原来在这个页面可以有外网ip地址，那么我们就不要通过百度了，直接访问这个网址，然后从他的源码中截取这个ip，不就ok了嘛，打开其源码，需找半天，也没有看到ip地址，汗，再探 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/ip138_yuan.gif 上图，看到他的ip地址其实是iframe中另一个地址来的，打开http://iframe.ip138.com/city.asp，ip地址简单切赤裸裸的出现 再看次源码 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/ip138_yuan2.gif OK，可以找到了。于是我们的思路就是使用php访问http://iframe.ip138.com/city.asp，获取其返回的源码，分割字符串等，从中只取出ip 核心代码：[php]$ip = file_get_contents(‘http://iframe.ip138.com/city.asp‘);// 从ip138网上获取到您自己的外网ip$ip1 = explode(&quot;[&quot;, $ip);// 对获取到的内容进行筛选，得到想要的内容，只要ip地址,左边界是&quot;[&quot;$ip2 = explode(&quot;]&quot;, $ip1[1]);//右边界是&quot;]&quot;$nowip = $ip2[0];//保存变量[/php] OK了，大功告成！ 以下是个人完整版，判断外网ip是否改变,自留[php]&lt;?php $ip = file_get_contents(‘http://iframe.ip138.com/city.asp‘);// 从ip138网上获取到您自己的外网ip$ip1 = explode(&quot;[&quot;, $ip);// 对获取到的内容进行筛选，得到想要的内容，只要ip地址,左边界是&quot;[&quot;$ip2 = explode(&quot;]&quot;, $ip1[1]);// 右边界是&quot;]&quot;$nowip = $ip2[0];// 保存变量$content = file(‘ip.txt’);// 打开ip.txt文件$oldip = $content[0] ;// 将原来的ip存入变量oldipecho ‘上次ip：’ . $oldip ;echo ‘现在ip：’ . $nowip ;// 输出一下if ($nowip == ‘’) { exit; // 获取不到外网ip，可能是断网了等其他情况，暂时不做操作} else { if ($oldip != $nowip) { // 如果发现ip改变了 $handle = fopen(‘ip.txt’, ‘w’); fwrite($handle, $nowip); // 将新的ip写入到ip.txt中 fclose($handle); echo &quot;IP发生改变&quot;; } else { echo &quot;IP未发生改变&quot;; }}?&gt;[/php]代码第28行，我是输出了“IP发生改变” 当ip改变后，后面的操作还可以自由发挥 比如，发现ip改变之后，就立刻发生Email通知自己，或者通知他人 （如何发生email，将在下一篇文章中详述） 再有，发Email还是不够直接，要是我没去看mail怎么办？？ 直接发生短信，这样不就更容易让人知道嘛， so。。。。。。。。 如何发生短信给自己，或者给别人，也请关注继续关注我","categories":[{"name":"技术探讨","slug":"技术探讨","permalink":"https://chengaomin.github.io/categories/技术探讨/"}],"tags":[{"name":"IP地址","slug":"IP地址","permalink":"https://chengaomin.github.io/tags/IP地址/"},{"name":"PHP","slug":"PHP","permalink":"https://chengaomin.github.io/tags/PHP/"},{"name":"外网IP","slug":"外网IP","permalink":"https://chengaomin.github.io/tags/外网IP/"}]},{"title":"使用区域限制来只显示你想要的区域(百度地图API)","slug":"e4-bd-bf-e7-94-a8-e5-8c-ba-e5-9f-9f-e9-99-90-e5-88-b6-e6-9d-a5-e5-8f-aa-e6-98-be-e7-a4-ba-e4-bd-a0-e6-83-b3-e8-a6-81-e7-9a-84-e5-8c-ba-e5-9f-9f-e7-99-be-e5-ba-a6-e5-9c-b0-e5-9b-beapi","date":"2012-10-01T11:37:16.000Z","updated":"2017-01-11T07:42:49.351Z","comments":true,"path":"2012/10/01/e4-bd-bf-e7-94-a8-e5-8c-ba-e5-9f-9f-e9-99-90-e5-88-b6-e6-9d-a5-e5-8f-aa-e6-98-be-e7-a4-ba-e4-bd-a0-e6-83-b3-e8-a6-81-e7-9a-84-e5-8c-ba-e5-9f-9f-e7-99-be-e5-ba-a6-e5-9c-b0-e5-9b-beapi/","link":"","permalink":"https://chengaomin.github.io/2012/10/01/e4-bd-bf-e7-94-a8-e5-8c-ba-e5-9f-9f-e9-99-90-e5-88-b6-e6-9d-a5-e5-8f-aa-e6-98-be-e7-a4-ba-e4-bd-a0-e6-83-b3-e8-a6-81-e7-9a-84-e5-8c-ba-e5-9f-9f-e7-99-be-e5-ba-a6-e5-9c-b0-e5-9b-beapi/","excerpt":"在使用百度地图的时候，开启了缩放功能之后，滚轮一个猛滚，就发现突然“整个世界，尽收眼底”了。。。呵呵 我是不想看到这样的效果的，只想让用户再怎么划滚轮，都只在某一个区域，如上海市，北京市等 那么我们开始吧: [ 区域限制](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/区域限制.gif 这个是百度地图api网上的陈述，来源于：http://developer.baidu.com/map/library.htm 试着打开他的demo，http://api.map.baidu.com/library/AreaRestriction/1.2/examples/AreaRestriction.html 嗯，区域果然被限制住了，只在北京着一块区域，拖到其他区域，是会自动弹出北京，但是鼠标一滚，还是能看到整个世界，不行啊。。。继续研究 想到，要让他看不到全球，不就是让他不能缩放到那么大嘛。。。","text":"在使用百度地图的时候，开启了缩放功能之后，滚轮一个猛滚，就发现突然“整个世界，尽收眼底”了。。。呵呵 我是不想看到这样的效果的，只想让用户再怎么划滚轮，都只在某一个区域，如上海市，北京市等 那么我们开始吧: [ 区域限制](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/区域限制.gif 这个是百度地图api网上的陈述，来源于：http://developer.baidu.com/map/library.htm 试着打开他的demo，http://api.map.baidu.com/library/AreaRestriction/1.2/examples/AreaRestriction.html 嗯，区域果然被限制住了，只在北京着一块区域，拖到其他区域，是会自动弹出北京，但是鼠标一滚，还是能看到整个世界，不行啊。。。继续研究 想到，要让他看不到全球，不就是让他不能缩放到那么大嘛。。。 [ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/zoom.gif 以上是百度地图API文档里的，在其“核心类”的“MapOptions”中，找到这2个属性，可以控制地图的缩放最小级别和最大级别，赶紧试试咯 打开“区域限制”demo的代码 [html]&lt;html&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;title&gt; 区域限制 &lt;/title&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://api.map.baidu.com/api?v=1.2&quot;&amp;gt; &lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://api.map.baidu.com/library/ AreaRestriction/1.2/src/AreaRestriction_min.js&quot;&gt; &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div style=&quot;width:700px;height:400px;border:1px&quot; id=&quot;container&quot;&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt;&lt;script type=&quot;text/javascript&quot;&gt; var map = new BMap.Map(&quot;container&quot;); map.centerAndZoom(new BMap.Point(116.404, 39.915), 13); map.enableScrollWheelZoom(); var b = new BMap.Bounds(new BMap.Point(116.027143, 39.772348), new BMap.Point(116.832025, 40.126349)); try { BMapLib.AreaRestriction.setBounds(map, b); } catch(e) { alert(e); }&lt;/script&gt;[/html] 我们将第21行代码改造一下，加上限制缩放大小，看看效果吧 将21行改成： var map = new BMap.Map(“container”,{minZoom:11,maxZoom:17}); 嗯，我觉得应该差不多了，看看最终的效果吧 http://cgmblog.sinaapp.com/zone_limit[ ](http://cgmblog-wordpress.stor.sinaapp.com/uploads/2012/10/区域限制完.gif","categories":[{"name":"技术探讨","slug":"技术探讨","permalink":"https://chengaomin.github.io/categories/技术探讨/"}],"tags":[{"name":"区域限制","slug":"区域限制","permalink":"https://chengaomin.github.io/tags/区域限制/"},{"name":"百度地图","slug":"百度地图","permalink":"https://chengaomin.github.io/tags/百度地图/"},{"name":"百度地图api","slug":"百度地图api","permalink":"https://chengaomin.github.io/tags/百度地图api/"},{"name":"限制缩放","slug":"限制缩放","permalink":"https://chengaomin.github.io/tags/限制缩放/"}]}]}